---
layout: default
title: SamuraAI Coding 2016のルール
date: 2017/01/18 23:50
---

公式のルールが読みづらい、理解しづらいのでまとめる。

# 基本的なルール

- 15*15のマップ
- 1ターンの最初に3人のうち1人のサムライを選ぶ
- 1ターン内において、コスト制限範囲内の動作を組み合わせる
- 1ピリオド = 6ターン、1ピリオドあたり3ターン行動可能
- 全部で16ピリオド(96ターン)

# サムライのルール

- コスト内において、占領・移動・隠伏・顕現ができる
- 味方のサムライの視界を取得できる
- 視界の情報：占領されてるかどうか、どちらが占領したか
- 味方のサムライの位置、隠伏の有無を確認できる
- 敵の侍の位置は、味方の視界の範囲内かつ隠伏してないとき取得可能

# 武器

- 0、1、2はそれぞれ槍、刀、鉞
- 見る位置を90*n度変えることが可能
- 自分自身がいる場所は占領できない

# 負傷と治癒

- 敵の攻撃を受けると療治が必要となり、デフォ位置へ戻される
- 療治には18ターンかかる

# プログラム

### 入力

- 始めはゲーム情報を受け取る
- 0なら先手、1なら後手
- ターンごとにゲームの状況を受け取る
- ターン情報：ターン番号、サムライの状況、戦場の状況
- サムライの状況：現在位置(x,y)、行動済、隠伏、療治ターン数
- 上から武器順（槍、刀、鉞）、敵味方順
- 味方の位置は常に知れる、療治中ではない敵の位置は味方の視界内じゃないとダメ
- 位置がわからないときは(x,y) = (-1,-1)
- 行動済：ピリオド内で、してないときは0、したときは1
- 隠伏状態：隠伏してないとき0、してるときは1、視界に入ってない敵も1
- 療治ターン数：あと何ターンで復帰か
- 戦場の状況：0~2：味方領地(武器順)、3~5：敵領地(武器順)、8：未占領、9：視界外

### 出力

- 行動するサムライ、その動作を出力
- 初期化時は10s以内、ターン毎は200ms以内に応答しないといけない
- 制限時間以内に、**0と改行**する必要がある
- 占領：1~4、1~4は南東北西、コスト4
- 移動：5~8、5~8は南東北西、コスト2、隣に移動
- 移動は隠伏状態でも味方領地なら移動可能
- 隠伏・顕現切り替え：9、コスト1、何回使ってもOK
- 隠伏状態なら、同じ区間に何人でも入れる
- コストは7上限
- 武器番号で行動するサムライを指定
- 同じピリオドで行動済のサムライは指定してはいけない
- ルール外のことをすると命令無効
- コスト7より大きい命令を指定した場合、7までは有効
- 命令は100文字以内
- 最後に終りを示す0を置く
